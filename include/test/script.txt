
objs = array();

function newobj()
{
	local obj = table();
	objs:push(obj);
	return obj;
};

dofile( "../OliveBasic/include/test/snake.txt" );

local count = 10;
while (--count)
{
	local i = 0;
	i = objs:size();
	while (i)
	{
		--i;
		local obj = objs[i];
		gotoxy( obj.x, obj.y );
		obj:update();
	}
	cls();
	gotoxy(0,0);
	i = objs:size();
	while (i)
	{
		--i;
		local obj = objs[i];
		gotoxy( obj.x, obj.y );
		obj:draw();
		print(count);
	}
}

print( "G : " + collect_garbage() + "\n" );